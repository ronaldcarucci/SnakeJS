<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>SnakeJS</title>
    <link rel="stylesheet" href="./css/bulma.min.css" />
    <link rel="stylesheet" href="./css/snake.css" />
</head>
<body style="display: none; margin-top: 50px;">
<div class="center">
    <div class="columns center">
        <div class="column is-12">
            <button class="button is-large new-game-btn is-success" data-level="easy"></button>
        </div>
    </div>
    <div class="columns center">
        <div class="column is-12">
            <button class="button is-large new-game-btn is-warning" data-level="normal"></button>
        </div>
    </div>
    <div class="columns center">
        <div class="column is-12">
            <button class="button is-large new-game-btn is-danger" data-level="difficult"></button>
        </div>
    </div>
</div>

<script defer src="https://use.fontawesome.com/releases/v5.14.0/js/all.js"></script>
<script src="./js/snake.js"></script>
<script>

    let userLang = ("" + (navigator.language || navigator.userLanguage)).slice(0,2);
    let lang = null;
    switch (userLang.toLowerCase()) {
        case 'fr':
        case 'en':
            json = fetch(`./lang/${userLang}.json`);
            break;
        default :
            json = fetch(`./lang/en.json`);
    }
    if (json != null) {
        json.then(response => response.json()).then(data => {
            document.querySelector(".new-game-btn[data-level='easy']").innerHTML = data.newGameEasy;
            document.querySelector(".new-game-btn[data-level='normal']").innerHTML = data.newGameNormal;
            document.querySelector(".new-game-btn[data-level='difficult']").innerHTML = data.newGameDifficult;
            document.querySelector("body").style.display = 'block';
        });
    }

    document.querySelectorAll(".new-game-btn").forEach(element => {
        element.addEventListener("click",function() {
            document.location = "./game.html?level="+this.getAttribute("data-level");
        });
    });


</script>
</body>
</html>